(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-165ce3cf"],{"7cb4":function(e,t,a){"use strict";var r=a("fa76"),n=a.n(r);n.a},a205:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("h1",[e._v("店铺列表")]),a("div",{staticClass:"button-wrap"},[e._v("\n        店铺名称:\n        "),a("Input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入……",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.search(t)}},model:{value:e.search_model,callback:function(t){e.search_model=t},expression:"search_model"}}),a("Button",{staticStyle:{"margin-left":"40px"},attrs:{type:"primary"},on:{click:e.search}},[e._v("搜索")]),a("Button",{staticStyle:{"margin-left":"20px"},on:{click:e.reset}},[e._v("重置")]),a("Button",{staticStyle:{float:"right"},attrs:{type:"primary",icon:"md-add"},on:{click:e.clickAdd}},[e._v("添加")])],1),a("Table",{attrs:{columns:e.columns1,loading:e.loading,data:e.data1}}),a("Page",{staticStyle:{float:"right","margin-top":"20px"},attrs:{total:e.total,"page-size":e.pagination.limit,current:e.pagination.page,"show-sizer":"","show-total":""},on:{"update:current":function(t){return e.$set(e.pagination,"page",t)},"on-change":e.initData,"on-page-size-change":e.changePageSize}}),a("Modal",{attrs:{title:e.title},model:{value:e.modal1,callback:function(t){e.modal1=t},expression:"modal1"}},[a("Form",{ref:"shopFormValidate",attrs:{model:e.shopFormValidate,"label-width":140,rules:e.shopRuleValidate}},[a("FormItem",{attrs:{label:"店铺名称",prop:"shop_name"}},[a("i-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入……"},model:{value:e.shopFormValidate.shop_name,callback:function(t){e.$set(e.shopFormValidate,"shop_name",t)},expression:"shopFormValidate.shop_name"}})],1),a("FormItem",{attrs:{label:"店铺等级",prop:"shop_leve"}},[a("InputNumber",{staticStyle:{width:"240px"},attrs:{min:1,placeholder:"请输入……"},model:{value:e.shopFormValidate.shop_leve,callback:function(t){e.$set(e.shopFormValidate,"shop_leve",t)},expression:"shopFormValidate.shop_leve"}})],1),a("FormItem",{directives:[{name:"show",rawName:"v-show",value:"添加店铺"!==e.title,expression:"title === '添加店铺' ? false : true"}],attrs:{label:"商品SKU数",prop:"skuNum"}},[a("i-input",{staticStyle:{width:"240px"},attrs:{readonly:"",placeholder:"请输入……"},model:{value:e.shopFormValidate.skuNum,callback:function(t){e.$set(e.shopFormValidate,"skuNum",t)},expression:"shopFormValidate.skuNum"}})],1),a("FormItem",{directives:[{name:"show",rawName:"v-show",value:"添加店铺"!==e.title,expression:"title === '添加店铺' ? false : true"}],attrs:{label:"库存量",prop:"inventory"}},[a("i-input",{staticStyle:{width:"240px"},attrs:{readonly:"",placeholder:"请输入……"},model:{value:e.shopFormValidate.inventory,callback:function(t){e.$set(e.shopFormValidate,"inventory",t)},expression:"shopFormValidate.inventory"}})],1)],1),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{on:{click:function(t){e.modal1=!1}}},[e._v("取消")]),a("Button",{attrs:{type:"primary"},on:{click:function(t){return e.handleSubmit("shopFormValidate")}}},[e._v("确定")])],1)],1)],1)},n=[],i=(a("8e6e"),a("ac6a"),a("456d"),a("7f7f"),a("bd86")),o=(a("96cf"),a("3b8d")),s=a("c24f");function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function c(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(a,!0).forEach((function(t){Object(i["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var p={data:function(){var e=this;return{data1:[],search_model:"",pagination:{page:1,pageNum:10},title:"",total:0,query:{},loading:!1,modal1:!1,shopId:null,columns1:[{title:"编号",type:"index",align:"center"},{title:"店铺名称",key:"shop_name",align:"center"},{title:"店铺等级",key:"shop_leve",align:"center"},{title:"商品SKU数",key:"skuNum",align:"center"},{title:"库存量",key:"inventory",align:"center"},{title:"操作",key:"created_time",align:"center",render:function(t,a){var r=a.row;return t("div",{style:{color:"#fd3f31",fontSize:"14px",cursor:"pointer"}},[t("span",{style:{margin:"0 10px",cursor:"pointer"},on:{click:function(){return e.clickModify(r)}}},"修改"),t("span",{style:{cursor:"pointer"},on:{click:function(){return e.clickDelete(r)}}},"删除")])}}],options:{disabledDate:function(e){return e&&e.valueOf()>Date.now()}},shopFormValidate:{},shopRuleValidate:{shop_name:[{required:!0,type:"string",message:"店铺名称不能为空",trigger:"blur"}],shop_leve:[{required:!0,type:"number",message:"店铺等级不能为空",trigger:"blur"}]}}},created:function(){this.initData()},methods:{initData:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.loading=!0,e.prev=1,e.next=4,s["a"].getShopList(c({},this.pagination,{},this.query,{user_id:this.$store.state.user.userId}));case 4:t=e.sent,1===t.data.code&&(this.data1=t.data.data.list.data,this.total=t.data.data.list.total),this.loading=!1,e.next=14;break;case 9:e.prev=9,e.t0=e["catch"](1),this.loading=!1,console.log(e.t0),this.$Message.error("数据获取失败！");case 14:case"end":return e.stop()}}),e,this,[[1,9]])})));function t(){return e.apply(this,arguments)}return t}(),addShop:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,this.shopFormValidate.user_id=this.$store.state.user.userId,e.next=4,s["a"].addShop({saveInfo:this.shopFormValidate});case 4:t=e.sent,1===t.data.code&&(this.$Message.success("添加店铺信息成功！"),this.modal1=!1,this.initData()),e.next=12;break;case 8:e.prev=8,e.t0=e["catch"](0),console.log(e.t0),this.$Message.error("添加店铺信息失败！");case 12:case"end":return e.stop()}}),e,this,[[0,8]])})));function t(){return e.apply(this,arguments)}return t}(),updateShop:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s["a"].updateShop(c({},{shop_id:t},{},{saveInfo:this.shopFormValidate}));case 3:a=e.sent,1===a.data.code&&(this.$Message.success("修改店铺信息成功！"),this.modal1=!1,this.initData()),e.next=11;break;case 7:e.prev=7,e.t0=e["catch"](0),console.log(e.t0),this.$Message.error("修改店铺信息失败！");case 11:case"end":return e.stop()}}),e,this,[[0,7]])})));function t(t){return e.apply(this,arguments)}return t}(),changePageSize:function(e){this.pagination.limit=e,this.initData()},search:function(){""!==this.search_model&&(this.query={query:{shop_name:this.search_model}}),this.initData(),this.query={}},reset:function(){this.search_model="",this.initData()},clickAdd:function(){this.modal1=!0,this.title="添加店铺",this.$refs["shopFormValidate"].resetFields(),this.shopFormValidate={},this.shopFormValidate.shop_leve=1},clickModify:function(e){this.modal1=!0,this.title="修改店铺",this.shopFormValidate=JSON.parse(JSON.stringify(e)),this.shopId=e.shop_id},clickDelete:function(e){var t=this;this.$Modal.confirm({title:"温馨提示",content:"确定要删除".concat(e.shop_name,"吗？"),onOk:function(){var a=Object(o["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,s["a"].updateShop(c({},{shop_id:e.shop_id},{},{saveInfo:{is_del:1}}));case 3:r=a.sent,1===r.data.code&&(t.$Message.success("删除成功！"),t.initData()),a.next=11;break;case 7:a.prev=7,a.t0=a["catch"](0),console.log(a.t0),t.$Message.error("删除失败");case 11:case"end":return a.stop()}}),a,null,[[0,7]])})));function r(){return a.apply(this,arguments)}return r}(),onCancel:function(){t.$Message.info("已取消！")}})},handleSubmit:function(e){var t=this;this.$refs[e].validate((function(e){e?"添加店铺"===t.title?t.addShop():t.updateShop(t.shopId):t.$Message.error("请输入正确的信息!")}))}}},u=p,h=(a("7cb4"),a("2877")),d=Object(h["a"])(u,r,n,!1,null,"08047674",null);t["default"]=d.exports},fa76:function(e,t,a){}}]);